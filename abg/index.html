<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ABG Prototype</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <header>
      <h1>ABG v1.1 — Auto Battler RPG</h1>
      <p>Infinite wave replay • Grinding • Class evolution • Equipment sets • Active skills</p>
    </header>

    <section class="topbar">
      <div>Wave <b id="wave">1</b></div>
      <div>Highest <b id="highestWave">0</b></div>
      <div>Gold <b id="gold">0</b></div>
      <div>Kills <b id="wins">0</b></div>
      <div>Combo <b id="comboLabel">x1.00</b></div>
      <div>Speed <b id="speedLabel">1x</b></div>
      <div>Mode <b id="modeLabel">Push</b></div>
      <button id="modeBtn">Toggle Mode</button>
      <button id="prevWaveBtn">◀ Wave</button>
      <button id="nextWaveBtn">Wave ▶</button>
      <button id="startBtn">Start Run</button>
      <button id="pauseBtn">Pause</button>
      <button id="speedBtn">Speed</button>
      <button id="resetBtn" class="danger">Reset</button>
    </section>

    <section class="upgrade-stats-row">
      <div class="panel">
        <h2>Hero Upgrades</h2>
        <div id="upgradeHeroList" class="hero-pills"></div>
        <div class="mini-actions">
          <span>Buy amount:</span>
          <button id="buyAmt1" class="buyamt active">x1</button>
          <button id="buyAmt5" class="buyamt">x5</button>
          <button id="buyAmt10" class="buyamt">x10</button>
          <button id="buyAmtMAX" class="buyamt">MAX</button>
        </div>
        <div id="upgradeInfo" class="set-summary"></div>
        <button id="upAtkBtn">+2 ATK</button>
        <button id="upHpBtn">+12 Max HP</button>
        <button id="upCritBtn">+1% Crit</button>
        <button id="upCritDmgBtn">+5% Crit Dmg</button>
        <button id="upDefBtn">+1 Defense</button>
      </div>
      <div class="panel">
        <h2>Total Stats</h2>
        <div id="totalStats" class="set-summary"></div>
      </div>
    </section>

    <section class="battlefield panel forest">
      <div class="lane" id="partyLane"></div>
      <div class="vs" id="vsLabel">AUTO</div>
      <div class="lane" id="enemyLane"></div>
    </section>

    <section class="grid">
      <div class="panel">
        <h2>Party</h2>
        <div id="party"></div>
      </div>
      <div class="panel">
        <h2>Enemies</h2>
        <div id="enemies"></div>
      </div>
      <div class="panel">
        <h2>Commands</h2>
        <div id="skillBar" class="mini-actions"></div>
      </div>
      <div class="panel">
        <h2>Battle Stats</h2>
        <div id="battleStats" class="set-summary"></div>
      </div>
      <div class="panel">
        <h2>Equipment</h2>
        <div id="equipHeroList" class="hero-pills"></div>
        <div id="setSummary" class="set-summary"></div>
        <div id="equipSlots" class="equip-body"></div>
      </div>
      <div class="panel">
        <h2>Latest Loot</h2>
        <div id="loot" class="log" style="height:130px"></div>
      </div>
      <div class="panel">
        <h2>Combat Log</h2>
        <div id="log" class="log"></div>
      </div>
    </section>
  </main>

  <div id="newGameModal" class="modal hidden">
    <div class="modal-card">
      <h2>New Game</h2>
      <p>Pick your first hero and enter a name. Extra hero slots unlock at Wave 20 and Wave 50.</p>
      <label>Player name
        <input id="playerNameInput" maxlength="20" placeholder="Your name" />
      </label>
      <label>Starting class
        <select id="startClassSelect">
          <option value="Warrior">Warrior</option>
          <option value="Ranger">Ranger</option>
          <option value="Mage">Mage</option>
        </select>
      </label>
      <button id="startNewGameBtn">Start Adventure</button>
    </div>
  </div>

  <div id="heroUnlockModal" class="modal hidden">
    <div class="modal-card">
      <h2>Reinforcement Available</h2>
      <p>Choose a new hero to join your party.</p>
      <div id="heroUnlockChoices" class="mini-actions"></div>
      <button id="heroUnlockContinueBtn" disabled>Continue Run</button>
    </div>
  </div>

  <div id="talentModal" class="modal hidden">
    <div class="modal-card" style="width:min(760px,95vw)">
      <h2 id="talentHeroTitle">Talent Tree</h2>
      <div id="talentHeroPts" class="set-summary"></div>
      <div id="baseTalentButtons" class="mini-actions"></div>
      <div id="advPreview" class="set-summary"></div>
      <div id="advTalentButtons" class="mini-actions"></div>
      <button id="closeTalentModalBtn">Close</button>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>