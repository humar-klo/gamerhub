<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ABG Prototype</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <header>
      <h1>ABG v1.1 — Auto Battler RPG</h1>
      <p>Infinite wave replay • Grinding • Class evolution • Equipment sets • Active skills</p>
    </header>

    <section class="topbar">
      <div>Wave <b id="wave">1</b></div>
      <div>Highest <b id="highestWave">0</b></div>
      <div>Gold <b id="gold">0</b></div>
      <div>Kills <b id="wins">0</b></div>
      <div>Combo <b id="comboLabel">x1.00</b></div>
      <div>Speed <b id="speedLabel">1x</b></div>
      <div>Mode <b id="modeLabel">Push</b></div>
      <button id="modeBtn">Toggle Mode</button>
      <button id="prevWaveBtn">◀ Wave</button>
      <button id="nextWaveBtn">Wave ▶</button>
      <button id="startBtn">Start Run</button>
      <button id="pauseBtn">Pause</button>
      <button id="speedBtn">Speed</button>
      <button id="resetBtn" class="danger">Reset</button>
    </section>

    <section class="battlefield panel forest">
      <div class="lane" id="partyLane"></div>
      <div class="vs" id="vsLabel">AUTO</div>
      <div class="lane" id="enemyLane"></div>
    </section>

    <section class="grid">
      <div class="panel">
        <h2>Party</h2>
        <div id="party"></div>
      </div>
      <div class="panel">
        <h2>Enemies</h2>
        <div id="enemies"></div>
      </div>
      <div class="panel">
        <h2>Camp Shop</h2>
        <div class="mini-actions">
          <span>Buy amount:</span>
          <button id="buyAmt1" class="buyamt active">x1</button>
          <button id="buyAmt5" class="buyamt">x5</button>
          <button id="buyAmt10" class="buyamt">x10</button>
          <button id="buyAmtMAX" class="buyamt">MAX</button>
        </div>
        <button id="healBtn">Heal Party (8g)</button>
        <button id="reviveBtn">Revive KO Ally (14g)</button>
        <div id="reviveTargets" class="mini-actions"></div>
        <button id="atkBtn">+2 Team ATK (16g)</button>
        <button id="hpBtn">+10 Team Max HP (16g)</button>
        <button id="critBtn">+1% Team Crit (20g)</button>
        <button id="critDmgBtn">+5% Team Crit Dmg (24g)</button>
        <button id="defBtn">+1 Team Defense (18g)</button>
      </div>
      <div class="panel">
        <h2>Talents (<span id="talentPts">0</span>)</h2>
        <button id="talSecondWind" title="Once per wave, each hero survives a lethal hit and returns at 30% HP.">Second Wind (5 pt)</button>
        <button id="talBloodlust" title="Each kill in a wave grants stacking +1 team ATK (up to +10) until wave ends.">Bloodlust (5 pt)</button>
        <button id="talEcho" title="15% chance for attacks to trigger an extra echo hit for 40% damage.">Arcane Echo (5 pt)</button>
        <button id="talTreasure" title="Increases gold from kills and boosts item drop chance.">Treasure Hunter (5 pt)</button>
        <button id="talRhythm" title="Kills reduce all living allies' active skill cooldown by 1.">Battle Rhythm (5 pt)</button>
        <button id="talSlayer" title="Deal extra damage to bosses and elite enemies.">Giant Slayer (5 pt)</button>
        <button id="talAtkPct" title="Stacks permanent team attack bonus in tiers.">Might Training (+5/10/15/20/25%)</button>
        <button id="talHpPct" title="Stacks permanent team max HP bonus in tiers.">Fortitude Training (+5/10/15/20/25%)</button>
      </div>
      <div class="panel">
        <h2>Commands</h2>
        <div id="skillBar" class="mini-actions"></div>
      </div>
      <div class="panel">
        <h2>Battle Stats</h2>
        <div id="battleStats" class="set-summary"></div>
      </div>
      <div class="panel">
        <h2>Equipment</h2>
        <div id="equipHeroList" class="hero-pills"></div>
        <div id="setSummary" class="set-summary"></div>
        <div id="equipSlots" class="equip-body"></div>
      </div>
      <div class="panel">
        <h2>Latest Loot</h2>
        <div id="loot" class="log" style="height:130px"></div>
      </div>
      <div class="panel">
        <h2>Combat Log</h2>
        <div id="log" class="log"></div>
      </div>
    </section>
  </main>

  <div id="newGameModal" class="modal hidden">
    <div class="modal-card">
      <h2>New Game</h2>
      <p>Pick your first hero and enter a name. Extra hero slots unlock at Wave 20 and Wave 50.</p>
      <label>Player name
        <input id="playerNameInput" maxlength="20" placeholder="Your name" />
      </label>
      <label>Starting class
        <select id="startClassSelect">
          <option value="Warrior">Warrior</option>
          <option value="Ranger">Ranger</option>
          <option value="Mage">Mage</option>
        </select>
      </label>
      <button id="startNewGameBtn">Start Adventure</button>
    </div>
  </div>

  <div id="heroUnlockModal" class="modal hidden">
    <div class="modal-card">
      <h2>Reinforcement Available</h2>
      <p>Choose a new hero to join your party.</p>
      <div id="heroUnlockChoices" class="mini-actions"></div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>